<div data-ng-controller="UsersCtrl">
  <form name="newUserForm" data-ng-show="!isLoggedIn() && createNewUser">
    <label >Email</label>:
    <input type="text" required data-ng-model="newUser.email"></br>
    <label >Password</label>:
    <input type="password" required data-ng-model="newUser.password"></br>
    <label >Password confirmation</label>:
    <input type="password" required data-ng-model="newUser.password_confirmation"></br>

    <button data-ng-disabled="newUserForm.$invalid" data-ng-click="create(newUser)"> Create User</button>
  </form>

  <form name="loginForm" data-ng-show="!(isLoggedIn()) && !createNewUser">
    <label>Email</label>
    <input type="text" required data-ng-model="user.email"></br>
    <label>Password</label>
    <input type="password" required data-ng-model="user.password"></br>
    <button data-ng-disabled="loginForm.$invalid" data-ng-click="signIn(user)">Sign In</button>
  </form>

  <button data-ng-click="createNewUser = !createNewUser">
    {{createNewUser ? 'Sign in to existing user': 'Create new user' }}
  </button>

  <div data-ng-show="isLoggedIn()">
    <p>Hello {{ currentUser() }}</p>
    <a href="" data-ng-click="logOut()"> Log Out</a>
  </div>
</div>
